{"version":3,"file":"client.js","sources":["app.ts"],"names":[],"mappings":"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","sourcesContent":["\r\n\r\n// ホントはテーブルにして抽出が好みだけど\r\nvar useWebAPI = document.domain == \"localhost\"\r\n                ? false\r\n                : true \r\n\r\nvar head = useWebAPI ? \"https://vegas.web-api.link/\"\r\n                     : \"http://localhost/\";\r\n\r\nfunction submitSignUp()\r\n{\r\n    var email    = document.getElementById('email').value;\r\n    var password = document.getElementById('password').value;\r\n    var repeat   = document.getElementById('repeat').value;\r\n    \r\n    var requestJson =\r\n    {\r\n      \"users\":\r\n      {\r\n        \"email\": email,\r\n        \"pass\": password\r\n      }\r\n    };\r\n\r\n    var url = head + \"user\";\r\n\r\n    var lambda = (responseJson, code) =>\r\n    {\r\n        var title = url;\r\n        var msg = JSON.stringify(responseJson);\r\n        iziToast.show({\r\n            timeout:  20000,\r\n            position: \"bottomRight\",\r\n            title,\r\n            message: msg,\r\n            progressBarColor: 'rgb(0, 255, 184)'\r\n        });\r\n\r\n        //if(responseJson.data.result == true)\r\n        {\r\n            var swalArg =\r\n            {\r\n                ico: \"info\",\r\n                title: \"正常に登録されました\",\r\n                closeOnClickOutside: false\r\n            };\r\n\r\n            swal(swalArg)\r\n        }\r\n        /*\r\n        else\r\n        {\r\n            var swalArg =\r\n            {\r\n                ico: \"error\",\r\n                title: \"登録されませんでした\",\r\n                closeOnClickOutside: false\r\n            };\r\n\r\n            swal(swalArg)\r\n        }\r\n        */\r\n    }\r\n\r\n    ajax(url, lambda, requestJson);\r\n}\r\n\r\nvar lambdaStack = [];\r\n\r\nfunction countToDoller(n)\r\n{\r\n    var msg = Array(n) // empty, empty, ...\r\n        .fill(\"💰\") // 💰,💰,...\r\n        .join(\"\"); // \"💰 💰\" ...\r\n    return msg;\r\n};\r\n\r\nfunction betFunc()\r\n{\r\n    var url = head + 'cointoss/bet';\r\n\r\n    ajax(url, (json ,code) => {\r\n        showMessage('BET', code, json);\r\n        moneyLabel.innerText = countToDoller(json.coin);\r\n        play(json.bet);\r\n    });\r\n};\r\n\r\n// 見通しが良くないなあ。\r\n// 常に何かを待っている状態で、\r\n// init ->\r\n// \r\n\r\nfunction play(bet)\r\n{\r\n    var buttons = {\r\n        cancel: {\r\n            text: \"表\",\r\n            value: 1,\r\n            visible: true,\r\n            className: \"\",\r\n            closeModal: true\r\n        },\r\n        confirm: {\r\n            text: \"裏\",\r\n            value: 2,\r\n            visible: true,\r\n            className: \"\",\r\n            closeModal: true\r\n        }\r\n    };\r\n    var swalArg = {\r\n        ico: \"info\",\r\n        title: countToDoller(bet),\r\n        buttons: buttons,\r\n        closeOnClickOutside: false\r\n    };\r\n\r\n    swal(swalArg)\r\n    .then(function (choose) {\r\n        loadingImg.style.display = \"block\";\r\n\r\n        var url = head + 'cointoss/game';\r\n\r\n        // 初回プレイ\r\n        ajax(url, (json ,code) => {\r\n            \r\n            showMessage('GAME', code, json);\r\n\r\n            loadingImg.style.display = \"none\";\r\n            if (json.win!=0) {\r\n                var title = countToDoller(json.win);\r\n                var buttons = {\r\n                    cancel: {\r\n                        text: \"やめる\",\r\n                        value: 1,\r\n                        visible: true,\r\n                        className: \"\",\r\n                        closeModal: true\r\n                    },\r\n                    confirm: {\r\n                        text: \"ダブルアップ\",\r\n                        value: 2,\r\n                        visible: true,\r\n                        className: \"\",\r\n                        closeModal: true\r\n                    }\r\n                };\r\n                // 当たり演出\r\n                var swalArg = {\r\n                    ico: \"success\",\r\n                    title: title,\r\n                    buttons: buttons,\r\n                    closeOnClickOutside: false\r\n                };\r\n\r\n                swal(swalArg)\r\n                .then((choose)=>\r\n                {\r\n                   if(choose==1)\r\n                   {\r\n                        var url = head + 'cointoss/init';\r\n\r\n                        ajax(url, (json ,code) => {\r\n                            showMessage('GAME', code, json);\r\n                            moneyLabel.innerText = countToDoller(json.coin);\r\n                        });\r\n                   }\r\n                   else\r\n                   {\r\n                        var url = head + 'cointoss/bet';\r\n                        // ダブルアップ\r\n                        ajax(url, (json ,code) => {\r\n                            showMessage('GAME', code, json);\r\n                            moneyLabel.innerText = countToDoller(json.coin);\r\n                            play(json.hand);\r\n                        });                  \r\n                    } \r\n                });\r\n            }\r\n            else {\r\n                // はずれ演出\r\n                var title = \"😭\";\r\n                // 当たり演出\r\n                var swalArg = {\r\n                    ico: \"error\",\r\n                    title: title,\r\n                    closeOnClickOutside: false\r\n                };\r\n\r\n                var url = head + 'cointoss/init';\r\n\r\n                ajax(url, (json ,code) => {\r\n                    showMessage('GAME', code, json);\r\n                    moneyLabel.innerText = countToDoller(json.coin);\r\n                });\r\n\r\n                swal(swalArg);\r\n            }\r\n        }, 10);\r\n    });\r\n}\r\n\r\n\r\n// アプリの状態として、\r\n// ・通信中\r\n// というのがあるといい\r\n\r\nfunction submitLogIn()\r\n{\r\n    var email    = document.getElementById('email').value;\r\n    var password = document.getElementById('password').value;\r\n    \r\n    var requestJson =\r\n    {\r\n      \"users\":\r\n      {\r\n        \"email\": email,\r\n        \"pass\": password\r\n      }\r\n    };\r\n\r\n    var url = head + \"login\";\r\n\r\n    var lambda = (responseJson, code) =>\r\n    {\r\n        var title = url;\r\n        var msg = JSON.stringify(responseJson);\r\n        iziToast.show({\r\n            timeout:  20000,\r\n            position: \"bottomRight\",\r\n            title,\r\n            message: msg,\r\n            progressBarColor: 'rgb(0, 255, 184)'\r\n        });\r\n\r\n        if(responseJson.result == true)\r\n        {\r\n            var swalArg =\r\n            {\r\n                ico: \"info\",\r\n                title: responseJson.message,\r\n                closeOnClickOutside: false\r\n            };\r\n\r\n            swal(swalArg)\r\n            .then(()=>{\r\n                window.location.href = './index.html';\r\n            });\r\n        }\r\n        else\r\n        {\r\n            var swalArg =\r\n            {\r\n                ico: \"info\",\r\n                title: responseJson.message,\r\n                closeOnClickOutside: false\r\n            };\r\n\r\n            swal(swalArg)\r\n        }\r\n    }\r\n\r\n    ajax(url, lambda, requestJson);\r\n}\r\n\r\nfunction ajax(url, lambda, json={}, method='POST')\r\n{\r\n    //var url = head + 'cointoss/' + verb;\r\n    \r\n    fetch(url, {\r\n        mode:         'cors',\r\n        method :      method,\r\n        credentials : \"include\",\r\n        body        : JSON.stringify(json),\r\n        headers     : new Headers({ \"Content-type\" : \"application/json\" })\r\n    }).then(response => response.text())\r\n    .then(text => \r\n    {\r\n        var json = JSON.parse(text)\r\n        lambda(json, 200);\r\n        console.log(text)\r\n    }\r\n    );\r\n}\r\n\r\nfunction showMessage(req, code, json)\r\n{\r\n    //return;\r\n\r\n    var msg =\r\n    \"S :\" + json.state + \" \" +\r\n    \"C :\" + json.coin  + \" \" +\r\n    \"H :\" + json.hand  + \" \" +\r\n    \"W :\" + json.win;  + \" \" \r\n\r\n    var state = json.state;\r\n\r\n    var img = state == 'wait'   ? 'img/toWaitt.svg'\r\n            : state == 'bet'    ? 'img/bet.svg'\r\n            : state == 'result' ? 'img/game.svg'\r\n            :                     'img/question.svg'\r\n\r\n    var title = json.request + ' : ' + code;\r\n\r\n    var arg =\r\n    {\r\n        timeout: 20000,\r\n        image:img,\r\n        position: \"bottomRight\",\r\n        title,\r\n        message: msg,\r\n        progressBarColor: 'rgb(0, 255, 184)'\r\n    }\r\n    iziToast.show(arg);\r\n\r\n    return null;\r\n}\r\n\r\nfunction onloadLogin()\r\n{\r\n    var filename = window.location.href.split('/').pop();\r\n\r\n\r\n    var moneyLabel   = document.getElementById(\"moneyLabel\");\r\n    var loadingImg   = document.getElementById(\"loadingImg\");\r\n    var startButton  = document.getElementById(\"startButton\");\r\n    var testButton   = document.getElementById(\"testButton\");\r\n    var signUpButton = document.getElementById(\"signUpButton\");\r\n\r\n    document.getElementById('id01').style.display='block';\r\n    document.getElementById('id01').style.width=\"auto\";\r\n};\r\n\r\nfunction versionTest()\r\n{\r\n    var clientVersion = \"new-vegas-client-0.0.0-develop\";\r\n\r\n    var versionUrl =  head + 'version';\r\n\r\n    ajax(versionUrl, (json ,code) => {\r\n\r\n        var arg = {};\r\n\r\n        if(json.expectedClientVersion != clientVersion)\r\n        {\r\n            var msgList  = [\r\n                `クライアントバージョン:${clientVersion}`,\r\n                `予期するクライアントバージョン：${json.expectedClientVersion}`,\r\n                `キャッシュクリアが必要です`\r\n            ];\r\n\r\n            var argList = msgList.map((msg)=> \r\n            {\r\n                return {\r\n                timeout: 20000,\r\n                position: \"bottomRight\",\r\n                message: msg,\r\n                progressBarColor: 'rgb(0, 255, 184)'\r\n                }\r\n            });\r\n\r\n            argList.forEach(element => {\r\n                iziToast.show(element);\r\n            });\r\n        }\r\n        else\r\n        {\r\n            arg =\r\n            {\r\n                timeout: 20000,\r\n                position: \"bottomRight\",\r\n                message: JSON.stringify(json),\r\n                progressBarColor: 'rgb(0, 255, 184)'\r\n            }\r\n            iziToast.show(arg);\r\n        }\r\n\r\n    });\r\n}\r\n\r\nfunction onloadIndex()\r\n{\r\n    var moneyLabel   = document.getElementById(\"moneyLabel\");\r\n    var loadingImg   = document.getElementById(\"loadingImg\");\r\n    var startButton  = document.getElementById(\"startButton\");\r\n    var testButton   = document.getElementById(\"testButton\");\r\n    var signUpButton = document.getElementById(\"signUpButton\");\r\n    var loginButton  = document.getElementById(\"loginButton\");\r\n\r\n    // init\r\n    loadingImg.style.display = \"block\";\r\n    startButton.style.display = \"none\";\r\n    //testButton.style.display = \"none\";\r\n    \r\n    moneyLabel.innerText = \"loading\";\r\n    startButton.onclick  = betFunc;\r\n    testButton.onclick   = versionTest;\r\n    signUpButton.onclick = function ()\r\n    {\r\n        document.getElementById('id01').style.display='block';\r\n        document.getElementById('id01').style.width=\"auto\";\r\n    }\r\n\r\n    loginButton.onclick = function()\r\n    {\r\n        window.location.href = './login.html';\r\n    }\r\n\r\n    // サーバー初期化\r\n    var url =  head + 'cointoss/init';\r\n\r\n    ajax(url, (json ,code) => {\r\n        loadingImg.style.display   = \"none\";\r\n        startButton.style.display  = \"block\";\r\n        //testButton.style.display = \"none\";\r\n        showMessage(\"INIT\", code, json);\r\n        moneyLabel.innerText = countToDoller(json.coin);\r\n    });\r\n\r\n\r\n};\r\n"],"sourceRoot":"/source/"}